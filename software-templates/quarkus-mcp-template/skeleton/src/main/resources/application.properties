# ============================================
# APPLICATION INFO
# ============================================
quarkus.application.name=customer-service-mcp
quarkus.application.version=1.0-SNAPSHOT

# ============================================
# HTTP SERVER CONFIGURATION
# Run the MCP server on a different port than the customer service
# ============================================
quarkus.http.port=${{values.port}}
quarkus.http.host=0.0.0.0

# ============================================
# MCP SERVER CONFIGURATION
# ============================================
quarkus.mcp.server.server-info.name=NeuralBank Customer Service MCP
quarkus.mcp.server.server-info.version=1.0.0

# Enable traffic logging for debugging
quarkus.mcp.server.traffic-logging.enabled=true
quarkus.mcp.server.traffic-logging.text-limit=100

# ============================================
# REST CLIENT CONFIGURATION - CUSTOMER SERVICE
# ============================================
# Point to the actual NeuralBank Customer Service API
quarkus.rest-client."customerclient".uri=http://customer-service.neural-bank-demo.svc.cluster.local

# Enable detailed logging for REST client
quarkus.rest-client.logging.scope=request-response
quarkus.rest-client.logging.body-limit=100

# Follow HTTP redirects
quarkus.rest-client.follow-redirects=true

# Connection timeout (in milliseconds)
quarkus.rest-client."customerclient".connect-timeout=5000

# Read timeout (in milliseconds)
quarkus.rest-client."customerclient".read-timeout=10000

# ============================================
# LOGGING CONFIGURATION
# ============================================
# Global log level
quarkus.log.level=INFO

# Specific log levels for debugging
quarkus.log.category."com.neuralbank".level=DEBUG
quarkus.log.category."io.quarkiverse.mcp".level=DEBUG
quarkus.log.category."org.jboss.resteasy.reactive.client".level=DEBUG

# Console logging
quarkus.log.console.enable=true
quarkus.log.console.format=%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%c{3.}] (%t) %s%e%n
quarkus.log.console.color=true

# ============================================
# DEVELOPMENT MODE CONFIGURATION
# ============================================
%dev.quarkus.http.port=8081
#%dev.quarkus.rest-client."customerclient".uri=http://localhost:8080
%dev.quarkus.rest-client."customerclient".uri=http://customer-service-neural-bank-demo.apps.cluster-4n6sx.4n6sx.sandbox2864.opentlc.com
%dev.quarkus.log.console.color=true

# Live reload
%dev.quarkus.live-reload.instrumentation=true


# ============================================
# HEALTH CHECK CONFIGURATION
# ============================================
quarkus.health.extensions.enabled=true
quarkus.smallrye-health.root-path=/q/health

# ============================================
# SWAGGER/OPENAPI CONFIGURATION (Optional)
# ============================================
quarkus.smallrye-openapi.path=/q/openapi
quarkus.swagger-ui.always-include=true
quarkus.swagger-ui.path=/q/swagger-ui

# ============================================
# CORS CONFIGURATION (if needed for web clients)
# ============================================
quarkus.http.cors=true
quarkus.http.cors.origins=*
quarkus.http.cors.methods=GET,POST,PUT,DELETE,PATCH,OPTIONS
quarkus.http.cors.headers=accept,authorization,content-type,x-requested-with
quarkus.http.cors.exposed-headers=Content-Disposition
quarkus.http.cors.access-control-max-age=24H

# ============================================
# JSON CONFIGURATION
# ============================================
quarkus.jackson.fail-on-unknown-properties=false
quarkus.jackson.write-dates-as-timestamps=false
quarkus.jackson.serialization-inclusion=non-null

# ============================================
# BANNER CONFIGURATION
# ============================================
quarkus.banner.enabled=true

# ============================================
# ADDITIONAL NOTES
# ============================================
# Environment Variables Override:
# You can override any property using environment variables:
# - QUARKUS_HTTP_PORT=8081
# - QUARKUS_REST_CLIENT_CUSTOMERCLIENT_URI=http://localhost:8080
#
# For different environments, use profiles:
# - mvn quarkus:dev (uses %dev profile)
# - mvn quarkus:test (uses %test profile)  
# - java -jar app.jar (uses %prod profile)
#
# Security (to be implemented):
# - Add authentication/authorization if needed
# - Configure SSL/TLS for production
# - Add API keys or JWT validation
# ============================================
# OPENTELEMETRY
# ============================================
quarkus.otel.metrics.enabled=true
quarkus.otel.simple=true
quarkus.otel.exporter.otlp.endpoint=http://dev-collector.observability.svc.cluster.local:4317